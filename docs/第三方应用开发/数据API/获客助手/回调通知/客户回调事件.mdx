---
title: "客户回调事件"
generated_at: "2026-02-11 09:14:21"
update_time: 1770378993
source: "https://developer.work.weixin.qq.com/document/path/101456"
---

[TOC]

## 添加企业客户事件
授权企业中[配置了客户联系功能](#13473/开始开发)的成员添加外部联系人时，企业微信服务器会向应用的“指令回调URL”推送该事件。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[add_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<State><![CDATA[teststate]]></State>
	<WelcomeCode><![CDATA[WELCOMECODE]]></WelcomeCode>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为add_external_contact |
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |
  |State|添加此用户的[「联系我」](#15645/配置客户联系「联系我」方式)方式配置的state参数，可用于识别添加此用户的渠道|
  |WelcomeCode|欢迎语code，可用于[发送欢迎语](#16489) |

> 第三方应用可以根据ExternalUserID调用“[获取客户详情](#90000/90135/90224)”读取详情。
> **注意:如果外部联系人和成员已经开始聊天或已通过「外部联系人免验证添加成员事件」得到的welcomecode发送欢迎语，则不会继续返回welcomecode。成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。**

## 编辑企业客户事件
授权企业中[配置了客户联系功能](#13473/开始开发)的成员编辑外部联系人的备注信息(不包括备注手机号码)或企业标签时，企业微信服务器会向应用的“指令回调URL”推送该事件，但仅修改外部联系人备注手机号时不会触发回调。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[edit_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为edit_external_contact |
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |


## 外部联系人免验证添加成员事件
外部联系人添加了[配置了客户联系功能](#13473/开始开发)且开启了**免验证**的成员时（此时成员尚未确认添加对方为好友），企业微信服务器会向应用的**“指令回调URL”**推送该事件。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[add_half_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<State><![CDATA[teststate]]></State>
	<WelcomeCode><![CDATA[WELCOMECODE]]></WelcomeCode>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为add_half_external_contact |
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |
  |State|添加此用户的[「联系我」](#15645/配置客户联系「联系我」方式)方式配置的state参数，可用于识别添加此用户的渠道|
  |WelcomeCode|欢迎语code，可用于[发送欢迎语](#16489) |

> 第三方应用可以根据ExternalUserID调用“[获取客户详情](#90000/90135/90224)”读取详情。
> **注意:如果外部联系人和成员已经开始聊天或已通过「外部联系人免验证添加成员事件」得到的welcomecode发送欢迎语，则不会继续返回welcomecode。企业成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。**

## 删除企业客户事件
授权企业中[配置了客户联系功能](#13473/开始开发)的成员删除外部联系人时，企业微信服务器会向应用的“指令回调URL”推送该事件。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[del_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<Source><![CDATA[DELETE_BY_TRANSFER]]></Source>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为del_external_contact |
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |
  |Source|删除客户的操作来源，```DELETE_BY_TRANSFER```表示此客户是因在职继承自动被转接成员删除|


## 删除跟进成员事件
授权企业中[配置了客户联系功能](#13473/开始开发)的成员**被外部联系人删除**时，企业微信服务器会向应用的“指令回调URL”推送该事件。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[del_follow_user]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为del_follow_user |
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |




##客户接替失败事件
企业将客户分配给新的成员接替后，当客户添加失败时，企业微信服务器会向应用的“指令回调URL”推送该事件。
「营销获客」应用仅可接收该应用带来的客户的变更事件，同时跟进人在应用可见范围或客户可建联的成员范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[transfer_fail]]></ChangeType>
	<FailReason><![CDATA[customer_refused]]></FailReason>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为change_external_contact |
  |TimeStamp|时间戳 |
  |ChangeType|此时固定为transfer_fail |
  |FailReason|接替失败的原因, customer_refused-客户拒绝， customer_limit_exceed-接替成员的客户数达到上限|
  |UserID|企业服务人员的UserID |
  |ExternalUserID|外部联系人的userid，注意不是企业成员的账号 |
  


  
  
    
## 客户可建联成员范围变动事件
当企业管理员在终端/管理端调整客户可建联成员范围时，回调此事件。
收到此事件后企业可通过[获取客户可建联成员](#60010)接口获取当前最新的范围。

请求示例：
```
<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[customer_acquisition_permit_change]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
</xml>
```

参数说明：

  | 参数 | 说明 |
  |----|---- |
  |SuiteId|第三方应用ID |
  |AuthCorpId|授权企业的CorpID |
  |InfoType|固定为```customer_acquisition_permit_change``` |
  |TimeStamp|unix时间戳|